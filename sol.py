import sys
from sympy import isprime

# 0AE9F9E943F4D797DA9B4086D038A1E20C874F925B67D27B286CF10D7C5B4892

PRIME_NUM = 1005877355977839899602394123004650896609020932109259483859426048033585887598439536619321390495404488276370594593357023543082020910133930013161380270225159864985560348842554443132860176777266406865945070345449480006798902716354414494096692784097116494055609013065856802946085499250366612997307904276992334272641176834975763852144219507285756000855151811258799969223267599994406489640689357656253027022501009836702038500830754980185142914710591543392291097512801765276468118061848191857452492576834401566608728449372624742565635208530547836072794620565842624285391625108752593712666533748391686432574530865375948524401668510394855572682211883770238894161878264499370862539106842805110285129808338586284535955875748232333250972766769637698408847216650891796359776099014832019932350237854466312549037804364143688118030233246588658639078139369643700704380597094553740143062086770468029671307163566010633519521412735432371258600116306010677678209135317298215288433342238409435813824160749530885678277421747960523116734282793586727408287008484226559397155904458971710182186961942201317239793908694508863725710814720101282214836946012698896499487402529548928549244464670091504811503262507244426511661320817936074696928924715966264338470755071


def get_big_num():
    with open('xc', 'rb') as fr:
        data = fr.read()

    return int.from_bytes(data[0x1045:0x1245], byteorder='little')


def is_prime(num):
    for b in range(2, num//2):
        # Check if b | num
        if num % b == 0:
            return False
    return True


assert is_prime(3)
assert is_prime(5)
assert is_prime(7)
assert is_prime(11)
# assert is_prime(211503701)
assert not is_prime(10)


def looper(num):
    while True:
        sys.stdout.write('.')
        sys.stdout.flush()
        if isprime(num):
            return num
        num += 1


def run():
    num = get_big_num()

    print(looper(num))


def main():
    run_modify(PRIME_NUM)


def run_modify(prime_num):
    with open('xc', 'rb') as fr:
        data = fr.read()

    new_data = data[:0x1045] + \
        prime_num.to_bytes(0x200, byteorder='little') + data[0x1245:]

    with open('xc1', 'wb') as fw:
        fw.write(new_data)


if __name__ == '__main__':
   main()
    # run()
